Vision_Expo - Modular Volleyball Tracking System
================================================

PROJECT STRUCTURE
=================

Vision_Expo/
‚îÇ
‚îú‚îÄ‚îÄ üìÑ main.py                          # Entry point - run this!
‚îú‚îÄ‚îÄ üìÑ config.py                        # Configuration settings
‚îú‚îÄ‚îÄ üìÑ volleyball_tracker.py            # Main tracker application
‚îú‚îÄ‚îÄ üìÑ __init__.py                      # Package initialization
‚îÇ
‚îú‚îÄ‚îÄ üìÑ README.md                        # Main documentation
‚îú‚îÄ‚îÄ üìÑ QUICKSTART.md                    # Quick start guide
‚îú‚îÄ‚îÄ üìÑ PROJECT_STRUCTURE.txt            # This file
‚îÇ
‚îú‚îÄ‚îÄ üìÅ core/                            # Core tracking modules
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ detector.py                     # YOLO-based object detection
‚îÇ   ‚îú‚îÄ‚îÄ tracker.py                      # Multi-object tracker (Hungarian)
‚îÇ   ‚îú‚îÄ‚îÄ track.py                        # Track state + Kalman filter
‚îÇ   ‚îî‚îÄ‚îÄ segmentor.py                    # SAM2 segmentation
‚îÇ
‚îú‚îÄ‚îÄ üìÅ classifiers/                     # Classification modules
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ referee_classifier.py          # Position-locked referee detection
‚îÇ   ‚îî‚îÄ‚îÄ team_assigner.py               # Team assignment (net-based)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ utils/                           # Utility modules
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ logger.py                       # Error logging
‚îÇ   ‚îú‚îÄ‚îÄ scale_adapter.py                # Resolution scaling
‚îÇ   ‚îú‚îÄ‚îÄ geometry.py                     # IoU, centroid, distance
‚îÇ   ‚îú‚îÄ‚îÄ camera_motion.py                # Homography estimation
‚îÇ   ‚îî‚îÄ‚îÄ net_tracker.py                  # Optical flow + homography
‚îÇ
‚îî‚îÄ‚îÄ üìÅ docs/                            # Documentation
    ‚îú‚îÄ‚îÄ README.md                       # Documentation index
    ‚îî‚îÄ‚îÄ Formula_understanding.md        # Technical deep dive


MODULE DEPENDENCIES
===================

main.py
  ‚îî‚îÄ> volleyball_tracker.py
       ‚îú‚îÄ> config.py
       ‚îú‚îÄ> core/
       ‚îÇ    ‚îú‚îÄ> detector.py
       ‚îÇ    ‚îú‚îÄ> tracker.py
       ‚îÇ    ‚îÇ    ‚îî‚îÄ> track.py
       ‚îÇ    ‚îî‚îÄ> segmentor.py
       ‚îú‚îÄ> classifiers/
       ‚îÇ    ‚îú‚îÄ> referee_classifier.py
       ‚îÇ    ‚îî‚îÄ> team_assigner.py
       ‚îî‚îÄ> utils/
            ‚îú‚îÄ> logger.py
            ‚îú‚îÄ> scale_adapter.py
            ‚îú‚îÄ> geometry.py
            ‚îú‚îÄ> camera_motion.py
            ‚îî‚îÄ> net_tracker.py


KEY FILES
=========

üéØ Entry Point:
   main.py                              Run the application

‚öôÔ∏è Configuration:
   config.py                            All tunable parameters

üß† Core Tracking:
   core/detector.py                     YOLO detection + NMS
   core/tracker.py                      Hungarian algorithm matching
   core/track.py                        Kalman filter state management

üéØ Classification:
   classifiers/referee_classifier.py   Position-based referee detection
   classifiers/team_assigner.py        Cross-product team assignment

üîß Utilities:
   utils/camera_motion.py               SIFT/ORB + RANSAC homography
   utils/net_tracker.py                 Lucas-Kanade optical flow
   utils/geometry.py                    Mathematical primitives

üìö Documentation:
   README.md                            User guide
   QUICKSTART.md                        5-minute setup
   docs/Formula_understanding.md        Algorithm formulas


EXECUTION FLOW
==============

1. main.py
   ‚Üì
2. Load config.py settings
   ‚Üì
3. Initialize VolleyballTrackerPro
   ‚Üì
4. Setup phase:
   - Manual net selection
   - Manual referee zone selection
   - Initialize all trackers
   ‚Üì
5. Processing loop:
   - Detect objects (detector.py)
   - Track objects (tracker.py)
   - Classify referees (referee_classifier.py)
   - Assign teams (team_assigner.py)
   - Compensate camera motion (camera_motion.py)
   - Track net (net_tracker.py)
   ‚Üì
6. Visualization + Output
   ‚Üì
7. Save error report


FILE COUNT
==========

Python files:       20
Documentation:      5
Total modules:      13 (core=4, classifiers=2, utils=7)


LINES OF CODE (Approximate)
============================

core/detector.py:           150 lines
core/tracker.py:            140 lines
core/track.py:              150 lines
core/segmentor.py:          50 lines
classifiers/referee_classifier.py: 100 lines
classifiers/team_assigner.py:      40 lines
utils/camera_motion.py:     80 lines
utils/net_tracker.py:       100 lines
utils/logger.py:            60 lines
utils/scale_adapter.py:     35 lines
utils/geometry.py:          25 lines
volleyball_tracker.py:      400 lines
main.py:                    90 lines
config.py:                  25 lines

Total:                      ~1,445 lines (vs 1,052 in original ultimatum.py)


FEATURES PRESERVED
==================

‚úÖ Position-locked referee detection
‚úÖ Team assignment (A/B based on net)
‚úÖ Ball tracking with trajectory
‚úÖ SAM2 segmentation (optional)
‚úÖ Camera motion compensation
‚úÖ Net tracking (optical flow + homography)
‚úÖ Kalman filtering for smooth tracking
‚úÖ Hungarian algorithm for optimal matching
‚úÖ Error logging
‚úÖ Resolution scaling
‚úÖ Manual setup interface
‚úÖ Real-time visualization


IMPROVEMENTS OVER MONOLITHIC CODE
==================================

üì¶ Modularity:
   - Each component in separate file
   - Clear separation of concerns
   - Easier to test individual modules

üîß Maintainability:
   - Find code faster
   - Update one feature without touching others
   - Clear dependencies

üìö Documentation:
   - Comprehensive README
   - Technical formula explanations
   - Quick start guide

üéì Learnability:
   - Easier to understand architecture
   - Clearer code organization
   - Better for collaboration


USAGE EXAMPLE
=============

# Basic usage
python main.py

# With custom config
# (edit config.py first)
python main.py


ORIGINAL FILE
=============

‚úÖ ultimatum.py - UNCHANGED (preserved at d:\volleyball_vision\ultimatum.py)


COMPATIBILITY
=============

Python version:  3.8+
GPU:            CUDA recommended (CPU supported)
RAM:            8GB minimum, 16GB recommended
Storage:        ~500MB for models


NEXT STEPS
==========

1. Read QUICKSTART.md
2. Configure config.py
3. Run: python main.py
4. For deep dive: Read docs/Formula_understanding.md


VERSION
=======

Vision_Expo Version: 1.0.0
Based on: ultimatum.py
Created: 2024
Status: Production Ready


================================================
End of Project Structure
================================================
